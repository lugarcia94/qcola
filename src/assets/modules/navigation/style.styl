// Efeitos de Transição 
@keyframes open
    0% 
        transform: translate3d(-100%, 0, 0)
    50% 
        transform: translate3d(0, 0, 0)

@keyframes openButton 
    0%, 50%
        opacity: 0 
    100% 
        opacity: 1

@keyframes close
    0%, 50% 
        transform: translate3d(0, 0, 0)
    100% 
        transform: translate3d(-100%, 0, 0)

@keyframes closeButton 
    0%
        opacity: 1
    50%, 100%
        opacity: 0

@media mobile
    .navigation
        .preload &
            visibility: hidden 

        // Fundo do menu Transparente
        &__bg 
            position: fixed 
            top: 0 
            left: 0 
            z-index: 400
            width: 100%
            height: 100%
            background: rgba(0,0,0,.5)
            opacity: 0 
            visibility: hidden

        // Botão de Fechar
        &__button-close 
            position: fixed 
            top: 0
            left: 100%
            z-index 500

            width: 45px
            height: 45px

            font-size: 25px

            background: none 
            color: #fff

            // Efeitos
            opacity: 0
            transition: all 500ms ease

        // Conteudo do Menu (estrutura)
        &__container 
            position: fixed
            top: 0
            left: 0
            z-index: 500
            display: flex 
            flex-flow: column nowrap 
            width: 300px
            height: 100%
            max-height: 100%
            max-width: calc(100% - 45px) 
            background: #fff

            transform: translate3d(-100%, 0, 0)

        &__main 
            flex: 1 
            min-height: 0
            overflow-y: auto

        // Transição para fechar o menu
        &[aria-hidden=true]
            .navigation 
                &__container
                    transform: translate3d(-100%, 0, 0)
                    animation: close 500ms 1 ease

                &__button-close 
                    opacity: 0
                    animation: closeButton 500ms 1 ease

        // Transição para abrir o menu
        &[aria-hidden=false]
            .navigation 
                &__container 
                    transform: translate3d(0, 0, 0)
                    animation: open 500ms 1 ease

                &__button-close 
                    opacity: 1
                    animation: openButton 500ms 1 ease

                &__bg 
                    opacity: 1
                    visibility: visible

@media desktop 
    .navigation
        position: absolute
        top: 100% 
        left: 0
        z-index: 10
        width: 100% 
        transition: all .2s ease-in-out

        &__bg, &__button-close, &__header 
            display: none 
        &__main 
            container: viewport
            margin: 0 auto

        [data-scrolling-mode=down] &
            transform: translate3d(0, -50px, 0)