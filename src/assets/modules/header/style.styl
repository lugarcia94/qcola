.header 
    position: sticky
    top: 0
    z-index: 200
    margin-bottom: 45px

    background: #fff

    transition: all .2s ease-in-out

    [data-scrolling-mode=down] &
        border-bottom-style: solid
        border-bottom-width: 1px
        box-shadow: 0 0 10px rgba(0,0,0,.1)

    &__container 
        container: viewport
        display: flex 
        justify-content: space-between
        align-items: center
        margin: 0 auto
        padding: (gutter/2)

        &:before 
            content: ''
            position: absolute 
            top: 0 
            left: 0 
            z-index: 2
            width: 100% 
            height: 100%
            background: #fff

    &__logo, &__menu, &__customer, &__minicart 
        position: relative 
        z-index: 3

    &__logo 
        flex: 1
        padding: 0 (gutter/2)

    &__customer 
        padding: 0 (gutter/2)

    &__search 
        position: absolute 
        top: 100% 
        left: 0 
        width: 100% 
        z-index: 1
        transition: all .2s ease-in-out

        [data-scrolling-mode=down] &
            transform: translate3d(0, -100%, 0)

@media desktop 
    .header 
        margin-bottom: 50px

        &__container 
            position: relative 
            z-index: 20
            box-shadow: 700px 0 0 #fff, -700px 0 0 #fff
            background: #fff
            &:before 
                display: none 

        &__menu 
            display: none

        &__logo
            flex: 0 0 auto

        &__search 
            flex: 1
            min-width: 0
            position: static
            padding-right: (gutter / 2)

            [data-scrolling-mode=down] &
                transform: none 